{"version":3,"file":"_writeToken.js","sourceRoot":"","sources":["../../../../../../../src/api/private/core/Credentials_Factory_oAUTH/_axiosCredentials_oAUTH/_writeToken.ts"],"names":[],"mappings":";;AACA,yBAAmC;AAGtB,QAAA,WAAW,GAAG,UACzB,WAAwB,EACxB,QAAsC;IAE9B,IAAA,4BAAkB,CAAc;IACxC,WAAW,CAAC,WAAW,GAAG,YAAY,CAAC,YAAY,CAAC;IACpD,WAAW,CAAC,SAAS,GAAG,YAAY,CAAC,UAAU,CAAC;IAChD,WAAW,CAAC,SAAS,GAAG,YAAY,CAAC,UAAU,CAAC;IAChD,WAAW,CAAC,YAAY,GAAG,YAAY,CAAC,aAAa,CAAC;IACtD,WAAW,CAAC,SAAS,GAAG,YAAY,CAAC,UAAU,CAAC;IAChD,WAAW,CAAC,MAAM,GAAG,KAAG,WAAW,CAAC,SAAS,GAAG,WAAW,CAAC,UAAY,CAAC;IACzE,kBAAa,CAAC,WAAW,CAAC,OAAO,EAAE,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;IAErE,OAAO,WAAW,CAAC;AACrB,CAAC,CAAC","sourcesContent":["import { AxiosResponse } from 'axios';\nimport { writeFileSync } from 'fs';\nimport { Credentials } from '../../../../../typescript';\n\nexport const _writeToken = (\n  credentials: Credentials,\n  response: AxiosResponse<IRefreshCreds>\n): Credentials => {\n  const { data: refreshCreds } = response;\n  credentials.accessToken = refreshCreds.access_token;\n  credentials.apiServer = refreshCreds.api_server;\n  credentials.expiresIn = refreshCreds.expires_in;\n  credentials.refreshToken = refreshCreds.refresh_token;\n  credentials.tokenType = refreshCreds.token_type;\n  credentials.apiUrl = `${credentials.apiServer}${credentials.apiVersion}`;\n  writeFileSync(credentials.keyFile, credentials.refreshToken, 'utf8');\n\n  return credentials;\n};\n\nexport interface IRefreshCreds {\n  access_token: string;\n  api_server: string;\n  expires_in: number;\n  refresh_token: string;\n  token_type: string;\n}\n"]}