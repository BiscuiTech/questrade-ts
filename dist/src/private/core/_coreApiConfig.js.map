{"version":3,"file":"_coreApiConfig.js","sourceRoot":"","sources":["../../../../src/private/core/_coreApiConfig.ts"],"names":[],"mappings":";;AAEA;;;;GAIG;AACU,QAAA,cAAc,GAAG,UAAI,WAAwB;IACxD,EAAE;IACF,OAAO,UAAC,IAAoB;QAC1B,EAAE;QACF,OAAO,UAAC,QAAgB;YACtB,EAAE;YACF,OAAO,UAAC,QAAkB;gBACxB;;mBAEG;gBACH,IAAM,GAAG,GAAG,WAAW,CAAC,MAAM,GAAG,QAAQ,CAAC;gBAE1C;;;mBAGG;gBACH,IAAM,MAAM,GAAG,IAAI,CAAC,WAAW,EAAoB,CAAC;gBAEpD,yDAAyD;gBACzD,IAAM,aAAa,GAAG,YAAU,WAAW,CAAC,WAAa,CAAC;gBAE1D;;;mBAGG;gBACH,IAAM,QAAQ,GAAG,WAAW,CAAC,aAAa,CAAC;gBAE3C,gDAAgD;gBAChD,IAAM,IAAI,GAAG,QAAQ,CAAC;gBAEtB,sBAAsB;gBACtB,IAAM,OAAO,GAAG;oBACd,aAAa,eAAA;oBACb,QAAQ,UAAA;iBACT,CAAC;gBAEF,sBAAsB;gBACtB,IAAM,MAAM,GAAqB;oBAC/B,GAAG,KAAA;oBACH,MAAM,QAAA;oBACN,OAAO,SAAA;oBACP,IAAI,MAAA;iBACL,CAAC;gBAEF,OAAO,MAAM,CAAC;YAChB,CAAC,CAAC;QACJ,CAAC,CAAC;IACJ,CAAC,CAAC;AACJ,CAAC,CAAC","sourcesContent":["import { CoreApiConfig, Credentials } from '../../typescript';\n\n/**\n * Partial application of Core api config builder generating an\n * object of strings value in the format of CoreApiConfig<D> to\n * be sent to axios as main parameter.\n */\nexport const _coreApiConfig = <D>(credentials: Credentials) => {\n  //\n  return (VERB: 'GET' | 'POST') => {\n    //\n    return (endpoint: string) => {\n      //\n      return (postData: D | null): CoreApiConfig<D> => {\n        /**\n         * Build endpoint url with apiUrl as base.\n         */\n        const url = credentials.apiUrl + endpoint;\n\n        /**\n         * Set methodh to 'get' or 'post' in the\n         * request config/ header.\n         */\n        const method = VERB.toLowerCase() as 'get' | 'post';\n\n        /** oAuth2 token informations added to request header. */\n        const Authorization = `Bearer ${credentials.accessToken}`;\n\n        /**\n         * Adding account number information\n         * can occur in the 'location' header only.\n         */\n        const location = credentials.accountNumber;\n\n        /** Adittional information for POST requests. */\n        const data = postData;\n\n        /** Header builder. */\n        const headers = {\n          Authorization,\n          location,\n        };\n\n        /** Config builder. */\n        const config: CoreApiConfig<D> = {\n          url,\n          method,\n          headers,\n          data,\n        };\n\n        return config;\n      };\n    };\n  };\n};\n"]}