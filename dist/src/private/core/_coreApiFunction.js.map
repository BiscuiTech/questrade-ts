{"version":3,"file":"_coreApiFunction.js","sourceRoot":"","sources":["../../../../src/private/core/_coreApiFunction.ts"],"names":[],"mappings":";;;AACA,iEAA4D;AAC5D,mDAAkD;AAClD,2CAA0C;AAC1C,6DAAsD;AAEzC,QAAA,gBAAgB,GAAG,UAAC,WAAwB;IACvD,EAAE;IACF,OAAO,UAAC,IAAoB;QAC1B,EAAE;QACF,OAAO,UAAI,QAAkB;YAC3B,EAAE;YACF,OAAO,UAAI,QAAgB;gBACzB,EAAE;gBACF,OAAO;;;;;gCAGC,aAAa,GAAG,+BAAc,CAAI,WAAW,CAAC,CAAC;gCAE/C,WAAW,GAAG,aAAa,CAAC,IAAI,CAAC,CAAC;gCAElC,QAAQ,GAAG,WAAW,CAAC,QAAQ,CAAC,CAAC;gCAEjC,aAAa,GAAG,QAAQ,CAAC,QAAQ,CAAC,CAAC;gCAEnC,eAAe,GAAG,mCAAa,CACnC,aAAa,EACb,WAAW,CACZ,CAAC;gCAEI,QAAQ,GAAG,eAAe,CAAC,uBAAU,CAAC,CAAC;gCAC7C,EAAE;gCACF,KAAA,WAAW,CAAA;gCAAqB,KAAA,yCAAiB,CAAA;gCAAC,qBAAM,QAAQ,EAAA;;gCADhE,EAAE;gCACF,GAAY,iBAAiB,GAAG,kBAAkB,SAAc,EAAC,CAAC;gCAE1D,qBAAM,QAAQ,EAAA;;4BADtB,EAAE;4BACF,sBAAO,CAAC,SAAc,CAAC,CAAC,IAAI,EAAC,CAAC,wBAAwB;;;qBACvD,CAAC;YACJ,CAAC,CAAC;QACJ,CAAC,CAAC;IACJ,CAAC,CAAC;AACJ,CAAC,CAAC","sourcesContent":["import { Credentials } from '../../typescript';\nimport { remainingRequests } from './requestPerSecondLimit';\nimport { _coreApiConfig } from './_coreApiConfig';\nimport { _logErrors } from './_logErrors';\nimport { _tryToGetData } from './_tryToGetData_AXIOS';\n\nexport const _coreApiFunction = (credentials: Credentials) => {\n  //\n  return (VERB: 'GET' | 'POST') => {\n    //\n    return <D>(postData: D | null) => {\n      //\n      return <R>(endpoint: string) => {\n        //\n        return async (): Promise<R> => {\n          //\n\n          const configBuilder = _coreApiConfig<D>(credentials);\n          // ->\n          const getEndPoint = configBuilder(VERB);\n          // ->\n          const endPoint = getEndPoint(endpoint);\n          // ->\n          const getDataConfig = endPoint(postData);\n          // ->\n          const axiosDataGetter = _tryToGetData<R, D>(\n            getDataConfig,\n            credentials\n          );\n          // ->\n          const response = axiosDataGetter(_logErrors);\n          //\n          credentials.remainingRequests = remainingRequests(await response);\n          //\n          return (await response).data; // from _tryToGetData...\n        };\n      };\n    };\n  };\n};\n"]}